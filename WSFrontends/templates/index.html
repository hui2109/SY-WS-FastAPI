<!DOCTYPE html>
<html lang="zh" data-bs-theme="auto">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>省院电离排版站</title>

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="省医电离排班站">

  <!-- PWA状态栏配置 -->
  <meta name="theme-color" content="#4285f4">

  <!-- 苹果设备图标 -->
  <link rel="apple-touch-icon" href="/WSFrontends/assets/icons/icon-152x152-v2.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/WSFrontends/assets/icons/icon-152x152-v2.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/WSFrontends/assets/icons/icon-192x192-v2.png">
  <!-- 其他图标 -->
  <link rel="icon" type="image/png" href="/WSFrontends/assets/icons/icon-192x192-v2.png">

  <link rel="stylesheet" href="/WSFrontends/assets/plugin/node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet"
    href="/WSFrontends/assets/plugin/node_modules/@eonasdan/tempus-dominus/dist/css/tempus-dominus.min.css">
  <link rel="stylesheet" href="/WSFrontends/assets/plugin/node_modules/bootstrap-icons/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="/WSFrontends/assets/plugin/node_modules/swiper/swiper-bundle.min.css">

  <!-- 我的CSS样式 -->
  <link rel="stylesheet" href="/WSFrontends/assets/2_css/commons.css">
  <link rel="stylesheet" href="/WSFrontends/assets/2_css/index.css">
  <link rel="stylesheet" href="/WSFrontends/assets/2_css/work_all.css">
  <link rel="stylesheet" href="/WSFrontends/assets/2_css/work_mine.css">
  <link rel="stylesheet" href="/WSFrontends/assets/2_css/reserve_all.css">
  <link rel="stylesheet" href="/WSFrontends/assets/2_css/paiban_table.css">
  <link rel="stylesheet" href="/WSFrontends/assets/2_css/vacation_card.css">
  <link rel="stylesheet" href="/WSFrontends/assets/2_css/statistics_card.css">

  <!-- PWA清单 -->
  <link rel="manifest" href="/WSFrontends/assets/manifest.json">
</head>

<body>
  <!-- 桌面端-顶部导航栏 -->
  <nav class="navbar navbar-expand-lg fixed-top top-nav">
    <div class="container">
      <div class="d-flex align-items-center">
        <!-- 标题logo -->
        <a class="navbar-brand" href="#" style="font-weight: 600;">
          <img src="/WSFrontends/assets/icons/icon-512x512-v2.png" alt="Logo" width="25"
            class="d-inline-block align-text-top me-3">
          省医电离排班站
        </a>
        <!-- 菜单项 -->
        <div class="d-flex align-items-center">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" href="#work-mine" id="desktopWorkMineLink">
                <i class="bi bi-person-circle nav-icon"></i>我的排班
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#work-all" id="desktopWorkAllLink">
                <i class="bi bi-people-fill nav-icon"></i>全科排班
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#reserve-all" id="desktopReserveLink">
                <i class="bi bi-calendar-heart-fill nav-icon"></i>预约休假
              </a>
            </li>
            <li class="nav-item d-none">
              <a class="nav-link" href="#change-ban">
                <i class="bi bi-arrow-left-right nav-icon"></i>换班
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#statistics-all" id="desktopStatisticsLink">
                <i class="bi bi-calculator-fill nav-icon"></i>统计
              </a>
            </li>
            <li class="nav-item dropdown d-none" id="administerTools">
              <!-- a标签里面不能套a标签了!!! -->
              <a class="nav-link dropdown-toggle" href="#" id="paibanDesktopTools" data-bs-toggle="dropdown"
                aria-expanded="false">
                <i class="bi bi-slack nav-icon"></i>
                <span data-default="排班工具">排班工具</span>
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="#paiban-all">
                    开始排班
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="#vacation-all" id="desktopVacationSetting">
                    假期设置
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="d-flex align-items-center">
        <!-- 主题颜色切换 -->
        <div class="theme-toggle-wrapper me-3">
          <button class="theme-toggle" id="desktopThemeDropdownToggle">
            <i class="bi bi-sun"></i>
          </button>
          <div class="dropdown-menu" id="desktopThemeDropdown">
            <a class="dropdown-item theme-option" data-theme="light" href="#">
              <i class="bi bi-sun"></i>浅色模式
            </a>
            <a class="dropdown-item theme-option" data-theme="dark" href="#">
              <i class="bi bi-moon"></i>深色模式
            </a>
            <a class="dropdown-item theme-option" data-theme="auto" href="#">
              <i class="bi bi-circle-half"></i>自动模式
            </a>
          </div>
        </div>

        <!-- 用户名及头像 -->
        <div class="user-wrapper" id="desktopUserDropdownToggle">
          <div class="user-avatar">
            <img src="" alt="用户头像" width="32" height="32" class="rounded-circle avatarPreview">
            <input type="hidden" name="selectedAvatar" value="001-pirate.svg">
          </div>
          <span class="user-name">用户名</span>
          <div class="dropdown-menu" id="desktopUserDropdown">
            <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#avatarModal">
              <i class="bi bi-person-bounding-box"></i>修改头像
            </a>
            <a class="dropdown-item forceUpdate" href="#">
              <i class="bi bi-arrow-clockwise"></i>强制更新
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item logoutBtn" href="#" style="color: #dc3545;">
              <i class="bi bi-box-arrow-right"></i>退出登录
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- 移动端-顶部栏 -->
  <div class="mobile-top-bar">
    <div class="container">
      <div class="d-flex justify-content-between align-items-center">
        <!-- 左侧用户头像和名称 -->
        <div class="user-wrapper" id="mobileUserDropdownToggle">
          <div class="user-avatar">
            <img src="" alt="用户头像" width="32" height="32" class="rounded-circle avatarPreview">
            <input type="hidden" name="selectedAvatar" value="001-pirate.svg">
          </div>
          <span class="user-name">用户名</span>
          <div class="dropdown-menu" id="mobileUserDropdown">
            <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#avatarModal">
              <i class="bi bi-person-bounding-box"></i>修改头像
            </a>
            <a class="dropdown-item forceUpdate" href="#">
              <i class="bi bi-arrow-clockwise"></i>强制更新
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item logoutBtn" href="#" style="color: #dc3545;">
              <i class="bi bi-box-arrow-right"></i>退出登录
            </a>
          </div>
        </div>

        <!-- 中间 Logo -->
        <a class="d-flex navbar-brand" href="#" style="font-weight: 600;">
          <img src="/WSFrontends/assets/icons/icon-512x512-v2.png" alt="Logo" width="25"
            class="d-inline-block align-text-top me-3">
          省医电离排班站
        </a>

        <!-- 右侧主题切换按钮 -->
        <div class="theme-toggle-wrapper">
          <button class="theme-toggle" id="mobileThemeDropdownToggle">
            <i class="bi bi-sun"></i>
          </button>
          <div class="dropdown-menu" id="mobileThemeDropdown">
            <a class="dropdown-item theme-option" data-theme="light" href="#">
              <i class="bi bi-sun"></i>浅色模式
            </a>
            <a class="dropdown-item theme-option" data-theme="dark" href="#">
              <i class="bi bi-moon"></i>深色模式
            </a>
            <a class="dropdown-item theme-option" data-theme="auto" href="#">
              <i class="bi bi-circle-half"></i>自动模式
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 移动端-底部导航栏 -->
  <nav class="bottom-nav">
    <div class="container">
      <div class="row justify-content-around">
        <div class="col-2 text-center">
          <a class="nav-link active" href="#work-mine" id="mobileWorkMineLink">
            <div class="d-flex flex-column justify-content-center align-items-center" style="height: 30px;">
              <i class="bi bi-person-circle nav-icon"></i>
              <div style="font-size: 10px;">我的排班</div>
            </div>
          </a>
        </div>
        <div class="col-2 text-center">
          <a class="nav-link" href="#work-all" id="mobileWorkAllLink">
            <div class="d-flex flex-column justify-content-center align-items-center" style="height: 30px;">
              <i class="bi bi-people-fill nav-icon"></i>
              <div style="font-size: 10px;">全科排班</div>
            </div>
          </a>
        </div>
        <div class="col-2 text-center">
          <a class="nav-link" href="#reserve-all" id="mobileReserveLink">
            <div class="d-flex flex-column justify-content-center align-items-center" style="height: 30px;">
              <i class="bi bi-calendar-heart-fill nav-icon"></i>
              <div style="font-size: 10px;">预约休假</div>
            </div>
          </a>
        </div>
        <div class="col-2 text-center d-none">
          <a class="nav-link" href="#change-ban">
            <div class="d-flex flex-column justify-content-center align-items-center" style="height: 30px;">
              <i class="bi bi-arrow-left-right nav-icon"></i>
              <div style="font-size: 10px;">换班</div>
            </div>
          </a>
        </div>
        <div class="col-2 text-center">
          <a class="nav-link" href="#statistics-all" id="mobileStatisticsLink">
            <div class="d-flex flex-column justify-content-center align-items-center" style="height: 30px;">
              <i class="bi bi-calculator-fill nav-icon"></i>
              <div style="font-size: 10px;">统计</div>
            </div>
          </a>
        </div>
        <div class="col-2 text-center btn-group dropup d-none" id="administerTools2">
          <!-- a标签里面不能套a标签了!!! -->
          <a class="nav-link dropdown-toggle" href="#" id="paibanMobileTools" data-bs-toggle="dropdown"
            aria-expanded="false">
            <div class="d-flex flex-column justify-content-center align-items-center" style="height: 30px;">
              <i class="bi bi-slack nav-icon"></i>
              <span style="font-size: 10px;" data-default="排班工具">排班工具</span>
            </div>
          </a>
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="#paiban-all">
                开始排班
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#vacation-all" id="mobileVacationSetting">
                假期设置
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- 主要内容区域 -->
  <main class="container">
    <div class="main-content p-2">
      <div class="tab-content" id="navContent">
        <!-- 我的排班 -->
        <div class="tab-pane fade show active" id="work-mine">
          <div class="fade-in">
            <div id="work-content-mine" class="content-section">
              <div class="container position-relative">
                <h5 class="text-center mb-3">我的排班</h5>

                <!-- 日期切换组件 -->
                <div class="row mb-4">
                  <div class="col-2"></div>
                  <div class="col-8">
                    <div class="d-flex justify-content-between">
                      <button type="button" class="btn btn-sm btn-success pre-month btn-sm"
                        style="font-size: 12px;">上一月</button>
                      <div id="datetimepicker2" data-td-target-input="nearest" data-td-target-toggle="nearest">
                        <span class="input-group-text" data-td-target="#datetimepicker2"
                          data-td-toggle="datetimepicker">
                          <span class="mounianmouyue" style="font-size: 14px;">某年某月</span>
                        </span>
                      </div>
                      <button type="button" class="btn btn-sm btn-success next-month btn-sm"
                        style="font-size: 12px;">下一月</button>
                    </div>
                  </div>
                  <div class="col-2"></div>
                </div>

                <!-- 整体容器，添加tabindex使其可接收键盘焦点 -->
                <div class="component-wrapper" tabindex="0">
                  <!-- 固定的星期容器 -->
                  <div class="weekday-container">
                    <div class="weekday-item">周一</div>
                    <div class="weekday-item">周二</div>
                    <div class="weekday-item">周三</div>
                    <div class="weekday-item">周四</div>
                    <div class="weekday-item">周五</div>
                    <div class="weekday-item">周六</div>
                    <div class="weekday-item">周日</div>
                  </div>

                  <!-- Swiper 滑动容器 -->
                  <div class="swiper-container">
                    <div class="swiper mySwiper">
                      <div class="swiper-wrapper">
                        <!-- 第一周 -->

                        <!-- 第二周 -->

                        <!-- 第三周 -->

                      </div>
                      <div class="swiper-pagination"></div>
                      <div class="swipe-hint">左右滑动查看</div>
                    </div>
                  </div>
                </div>

                <div class="keyboard-hint d-none d-md-block">提示：使用键盘 ← 和 → 箭头键可切换卡片</div>

                <!-- 定制功能 -->
                <button type="button" class="btn btn-warning btn-sm d-none"
                  style="position: absolute; top: 0; right: 0; font-size: 11px;" id="checkAllScheduleFan">核查排班</button>
              </div>
            </div>
          </div>
        </div>

        <!-- 全科排班 -->
        <div class="tab-pane fade" id="work-all">
          <div class="fade-in">
            <div id="work-content-all" class="content-section">
              <!-- 加了border太丑 删了 -->
              <div class="p-1 border-secondary border-opacity-75 border-2 rounded-3">
                <!-- 日期切换组件 -->
                <div class="row">
                  <div class="col-lg-4"></div>
                  <div class="col-lg-4">
                    <div class="d-flex justify-content-center align-items-center">
                      <button type="button" class="btn btn-sm btn-success btn-sm pre-month me-2"
                        style="font-size: 12px;">上一月</button>
                      <div id="datetimepicker1" data-td-target-input="nearest" data-td-target-toggle="nearest">
                        <span class="input-group-text" data-td-target="#datetimepicker1"
                          data-td-toggle="datetimepicker">
                          <span class="mounianmouyue" style="font-size: 14px;">某年某月</span>
                        </span>
                      </div>
                      <button type="button" class="btn btn-sm btn-success btn-sm next-month ms-2"
                        style="font-size: 12px;">下一月</button>
                    </div>
                  </div>
                  <div class="col-lg-4"></div>
                </div>

                <!-- 表格本体 -->
                <div class="table-container m-auto mt-3 table-responsive">
                  <table class="paiban-table m-auto table table-bordered">
                    <thead>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 预约休假 -->
        <div class="tab-pane fade" id="reserve-all">
          <div class="fade-in">
            <div id="reserve-content-all" class="content-section">
              <div class="container">
                <h5 class="text-center mb-3">预约休假表</h5>

                <!-- 上半年预约表 -->
                <div class="table-container m-auto mb-3">
                  <table class="table vacation-table table-bordered table-responsive">
                    <thead id="firstHalfTableHead">
                      <tr>
                        <th rowspan="2" class="half-year-selector">
                          <div class="dropdown">
                            <button class="btn btn-sm btn-secondary btn-sm dropdown-toggle fw-bold" type="button"
                              data-bs-toggle="dropdown" aria-expanded="false" style="font-size: 12px;">
                              选择年份
                            </button>
                            <ul class="dropdown-menu custom-select-menu">
                              <li><button class="dropdown-item custom-select-item" type="button">2025</button></li>
                              <li><button class="dropdown-item custom-select-item" type="button">2026</button></li>
                              <li><button class="dropdown-item custom-select-item" type="button">2027</button></li>
                            </ul>
                          </div>
                          <div>上半年</div>
                        </th>
                        <th colspan="5" class="month-header">1月</th>
                        <th colspan="4" class="month-header">2月</th>
                        <th colspan="4" class="month-header">3月</th>
                        <th colspan="5" class="month-header">4月</th>
                        <th colspan="4" class="month-header">5月</th>
                        <th colspan="5" class="month-header">6月</th>
                      </tr>
                      <tr>
                      </tr>
                    </thead>
                    <tbody id="firstHalfTableBody">
                      <!-- 生成10行 -->
                    </tbody>
                  </table>
                </div>

                <!-- 下半年预约表 -->
                <div class="table-container m-auto">
                  <table class="table vacation-table table-bordered table-responsive">
                    <thead id="secondHalfTableHead">
                      <tr>
                        <th rowspan="2" class="half-year-selector">
                          <div class="dropdown">
                            <button class="btn btn-sm btn-secondary btn-sm dropdown-toggle fw-bold" type="button"
                              data-bs-toggle="dropdown" aria-expanded="false" style="font-size: 12px;">
                              选择年份
                            </button>
                            <ul class="dropdown-menu custom-select-menu">
                              <li><button class="dropdown-item custom-select-item" type="button">2025</button></li>
                              <li><button class="dropdown-item custom-select-item" type="button">2026</button></li>
                              <li><button class="dropdown-item custom-select-item" type="button">2027</button></li>
                            </ul>
                          </div>
                          <div>下半年</div>
                        </th>
                        <th colspan="5" class="month-header">7月</th>
                        <th colspan="4" class="month-header">8月</th>
                        <th colspan="4" class="month-header">9月</th>
                        <th colspan="5" class="month-header">10月</th>
                        <th colspan="4" class="month-header">11月</th>
                        <th colspan="5" class="month-header">12月</th>
                      </tr>
                      <tr>
                      </tr>
                    </thead>
                    <tbody id="secondHalfTableBody">
                      <!-- 生成10行 -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 换班 -->
        <div class="tab-pane fade" id="change-ban">
          <div class="fade-in">
            <h2>换班</h2>
            <p>这是换班内容区域。您可以在这里查看和管理您的换班。</p>
          </div>
        </div>

        <!-- 统计 -->
        <div class="tab-pane fade" id="statistics-all">
          <div class="fade-in">
            <div id="statistics-content-all" class="content-section">
              <!-- 搜索区域 -->
              <div class="search-container">
                <div class="container">
                  <div class="row justify-content-center">
                    <div class="col-md-6">
                      <div class="input-group">
                        <span class="input-group-text border-0">
                          <i class="bi bi-search"></i>
                        </span>
                        <input type="text" class="form-control border-0" id="searchInput2" placeholder="搜索员工姓名...">
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 卡片容器 -->
              <div class="container">
                <div id="cardsContainer2" class="row justify-content-center">
                  <!-- 卡片将通过JavaScript动态生成 -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 排班 -->
        <div class="tab-pane fade" id="paiban-all">
          <div class="fade-in">
            <div id="paiban-content-all" class="content-section">
              <!-- 加了border太丑 删了 -->
              <div class="p-1 border-secondary border-opacity-75 border-2 rounded-3">
                <!-- 工具栏 -->
                <div class="d-flex align-items-center justify-content-center gap-1">
                  <!-- 日期切换组件 -->
                  <div id="datetimepicker3" data-td-target-input="nearest" data-td-target-toggle="nearest">
                    <span data-td-target="#datetimepicker3" data-td-toggle="datetimepicker">
                      <button type="button" class="btn btn-sm btn-primary btn-sm mounianmouyue"
                        style="font-size: 12px;">某年某月</button>
                    </span>
                  </div>

                  <!-- 自动排班组件 -->
                  <button type="button" class="btn btn-sm btn-success btn-sm" id="autoScheduleAll"
                    style="font-size: 12px;">自动排班</button>

                  <!-- 显示上周期排班 -->
                  <button type="button" class="btn btn-sm btn-sm border border-warning" id="showLastSchedule"
                    style="font-size: 12px;">显示上周期</button>

                  <!-- 删除一个排班 -->
                  <button type="button" class="btn btn-sm btn-sm border border-warning" id="clearOneSchedule"
                    style="font-size: 12px;"><i class="bi bi-eraser-fill"></i></button>

                  <div class="dropdown" id="paibanToolBox">
                    <button class="btn btn-sm btn-sm border border-secondary text-secondary dropdown-toggle"
                      type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <i class="bi bi-wrench-adjustable-circle"></i>
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <!-- 清空排班 -->
                        <a class="dropdown-item" id="clearAllSchedule" style="font-size: 12px;">清空排班</a>
                      </li>
                      <li>
                        <!-- 检查排班 -->
                        <a class="dropdown-item" id="checkAllSchedule" style="font-size: 12px;">核查排班</a>
                      </li>
                      <li>
                        <!-- 提交审核 -->
                        <a class="dropdown-item" id="submitForAudit" style="font-size: 12px;">提交审核</a>
                      </li>
                      <li>
                        <!-- 审核排班 -->
                        <a class="dropdown-item" id="auditAllSchedule" style="font-size: 12px;">审核排班</a>
                      </li>
                      <li>
                        <!-- 导出排班 -->
                        <a class="dropdown-item" id="exportScheduleTable" style="font-size: 12px;">导出排班</a>
                      </li>
                    </ul>
                  </div>
                </div>

                <!-- 表格本体 -->
                <div class="table-container m-auto mt-3 table-responsive">
                  <table class="paiban-table m-auto table table-bordered">
                    <thead>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 假期设置 -->
        <div class="tab-pane fade" id="vacation-all">
          <div class="fade-in">
            <div id="vacation-content-all" class="content-section">
              <!-- 搜索区域 -->
              <div class="search-container">
                <div class="container">
                  <div class="row justify-content-center">
                    <div class="col-md-6">
                      <div class="input-group">
                        <span class="input-group-text border-0">
                          <i class="bi bi-search"></i>
                        </span>
                        <input type="text" class="form-control border-0" id="searchInput" placeholder="搜索员工姓名...">
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 批量操作区域 -->
              <div class="batchOpp-container">
                <div class="container">
                  <div class="row m-1">
                    <div class="batchOpp1 border border-primary border-2 rounded mb-4 p-3 col">
                    批量生成
                    <select id="batch-year-select1" class="form-select form-select-sm mt-2 mb-2">
                      <option>2026年</option>
                      <option>2027年</option>
                      <option>2028年</option>
                    </select>
                    <label for="batch-year-select1">休假规则，</label>
                    每人每年休
                    <select id="batch-day-select1" class="form-select form-select-sm mt-2 mb-2">
                      <option>22天</option>
                      <option>23天</option>
                      <option>24天</option>
                    </select>
                    <label for="batch-day-select1">放射假：</label>
                    <button type="button" class="btn btn-sm btn-primary" id="batchOpp1-btn">生成</button>
                  </div>
                  <div class="batchOpp2 border border-danger border-2 rounded mb-4 p-3 col ms-2">
                    批量删除
                    <select id="batch-year-select2" class="form-select form-select-sm mt-2 mb-2">
                      <option>2026年</option>
                      <option>2027年</option>
                      <option>2028年</option>
                    </select>
                    <label for="batch-year-select2">所有人的休假规则：</label>
                    <button type="button" class="btn btn-sm btn-danger" id="batchOpp2-btn">删除</button>
                  </div>
                  </div>
                </div>
              </div>

              <!-- 卡片容器 -->
              <div class="container">
                <div id="cardsContainer" class="row">
                  <!-- 卡片将通过JavaScript动态生成 -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- 头像选择模态框 -->
  <div class="modal fade" id="avatarModal" tabindex="-1" aria-labelledby="avatarModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title" id="avatarModalLabel">选择头像</h6>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="avatar-grid d-grid gap-md-1 overflow-auto p-2"
            style="grid-template-columns: repeat(5, 1fr); max-height: 400px;">
            <img src="/WSFrontends/assets/img/avatars/001-pirate.svg" data-avatar="001-pirate.svg"
              class="avatar-option selected" data-bs-toggle="tooltip" title="海盗" alt="海盗">
            <img src="/WSFrontends/assets/img/avatars/002-bee.svg" data-avatar="002-bee.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="蜜蜂" alt="蜜蜂">
            <img src="/WSFrontends/assets/img/avatars/003-superhero.svg" data-avatar="003-superhero.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="超级英雄" alt="超级英雄">
            <img src="/WSFrontends/assets/img/avatars/004-astronaut.svg" data-avatar="004-astronaut.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="宇航员" alt="宇航员">
            <img src="/WSFrontends/assets/img/avatars/005-artist.svg" data-avatar="005-artist.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="艺术家" alt="艺术家">
            <img src="/WSFrontends/assets/img/avatars/006-angel.svg" data-avatar="006-angel.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="天使" alt="天使">
            <img src="/WSFrontends/assets/img/avatars/007-pilot.svg" data-avatar="007-pilot.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="飞行员" alt="飞行员">
            <img src="/WSFrontends/assets/img/avatars/008-alien.svg" data-avatar="008-alien.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="外星人" alt="外星人">
            <img src="/WSFrontends/assets/img/avatars/009-ghost.svg" data-avatar="009-ghost.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="幽灵" alt="幽灵">
            <img src="/WSFrontends/assets/img/avatars/010-unicorn.svg" data-avatar="010-unicorn.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="独角兽" alt="独角兽">
            <img src="/WSFrontends/assets/img/avatars/011-ninja.svg" data-avatar="011-ninja.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="忍者" alt="忍者">
            <img src="/WSFrontends/assets/img/avatars/012-cowboy.svg" data-avatar="012-cowboy.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="牛仔" alt="牛仔">
            <img src="/WSFrontends/assets/img/avatars/013-doctor.svg" data-avatar="013-doctor.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="医生" alt="医生">
            <img src="/WSFrontends/assets/img/avatars/014-magician.svg" data-avatar="014-magician.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="魔术师" alt="魔术师">
            <img src="/WSFrontends/assets/img/avatars/015-firefighter.svg" data-avatar="015-firefighter.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="消防员" alt="消防员">
            <img src="/WSFrontends/assets/img/avatars/016-bear.svg" data-avatar="016-bear.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="熊" alt="熊">
            <img src="/WSFrontends/assets/img/avatars/017-fairy.svg" data-avatar="017-fairy.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="仙女" alt="仙女">
            <img src="/WSFrontends/assets/img/avatars/018-cat.svg" data-avatar="018-cat.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="猫" alt="猫">
            <img src="/WSFrontends/assets/img/avatars/019-robot.svg" data-avatar="019-robot.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="机器人" alt="机器人">
            <img src="/WSFrontends/assets/img/avatars/020-devil.svg" data-avatar="020-devil.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="恶魔" alt="恶魔">
            <img src="/WSFrontends/assets/img/avatars/021-rabbit.svg" data-avatar="021-rabbit.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="兔子" alt="兔子">
            <img src="/WSFrontends/assets/img/avatars/022-knight.svg" data-avatar="022-knight.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="骑士" alt="骑士">
            <img src="/WSFrontends/assets/img/avatars/023-mummy.svg" data-avatar="023-mummy.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="木乃伊" alt="木乃伊">
            <img src="/WSFrontends/assets/img/avatars/024-princess.svg" data-avatar="024-princess.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="公主" alt="公主">
            <img src="/WSFrontends/assets/img/avatars/025-pumpkin.svg" data-avatar="025-pumpkin.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="南瓜" alt="南瓜">
            <img src="/WSFrontends/assets/img/avatars/026-dog.svg" data-avatar="026-dog.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="狗" alt="狗">
            <img src="/WSFrontends/assets/img/avatars/027-clown.svg" data-avatar="027-clown.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="小丑" alt="小丑">
            <img src="/WSFrontends/assets/img/avatars/028-Pharaoh.svg" data-avatar="028-Pharaoh.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="法老" alt="法老">
            <img src="/WSFrontends/assets/img/avatars/029-scientist.svg" data-avatar="029-scientist.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="科学家" alt="科学家">
            <img src="/WSFrontends/assets/img/avatars/030-sailor.svg" data-avatar="030-sailor.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="水手" alt="水手">
            <img src="/WSFrontends/assets/img/avatars/031-dentist.svg" data-avatar="031-dentist.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="牙医" alt="牙医">
            <img src="/WSFrontends/assets/img/avatars/032-wizard.svg" data-avatar="032-wizard.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="巫师" alt="巫师">
            <img src="/WSFrontends/assets/img/avatars/033-chicken.svg" data-avatar="033-chicken.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="小鸡" alt="小鸡">
            <img src="/WSFrontends/assets/img/avatars/034-monkey.svg" data-avatar="034-monkey.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="猴子" alt="猴子">
            <img src="/WSFrontends/assets/img/avatars/035-viking.svg" data-avatar="035-viking.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="维京人" alt="维京人">
            <img src="/WSFrontends/assets/img/avatars/036-pig.svg" data-avatar="036-pig.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="猪" alt="猪">
            <img src="/WSFrontends/assets/img/avatars/037-butterfly.svg" data-avatar="037-butterfly.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="蝴蝶" alt="蝴蝶">
            <img src="/WSFrontends/assets/img/avatars/038-hawaiian.svg" data-avatar="038-hawaiian.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="夏威夷人" alt="夏威夷人">
            <img src="/WSFrontends/assets/img/avatars/039-dinosaur.svg" data-avatar="039-dinosaur.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="恐龙" alt="恐龙">
            <img src="/WSFrontends/assets/img/avatars/040-flower.svg" data-avatar="040-flower.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="花" alt="花">
            <img src="/WSFrontends/assets/img/avatars/041-lion.svg" data-avatar="041-lion.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="狮子" alt="狮子">
            <img src="/WSFrontends/assets/img/avatars/042-apache.svg" data-avatar="042-apache.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="阿帕奇" alt="阿帕奇">
            <img src="/WSFrontends/assets/img/avatars/043-farmer.svg" data-avatar="043-farmer.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="农民" alt="农民">
            <img src="/WSFrontends/assets/img/avatars/044-officer.svg" data-avatar="044-officer.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="警官" alt="警官">
            <img src="/WSFrontends/assets/img/avatars/045-giraffe.svg" data-avatar="045-giraffe.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="长颈鹿" alt="长颈鹿">
            <img src="/WSFrontends/assets/img/avatars/046-vampire.svg" data-avatar="046-vampire.svg"
              class="avatar-option" data-bs-toggle="tooltip" title="吸血鬼" alt="吸血鬼">
            <img src="/WSFrontends/assets/img/avatars/047-zebra.svg" data-avatar="047-zebra.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="斑马" alt="斑马">
            <img src="/WSFrontends/assets/img/avatars/048-worker.svg" data-avatar="048-worker.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="工人" alt="工人">
            <img src="/WSFrontends/assets/img/avatars/049-frog.svg" data-avatar="049-frog.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="青蛙" alt="青蛙">
            <img src="/WSFrontends/assets/img/avatars/050-shark.svg" data-avatar="050-shark.svg" class="avatar-option"
              data-bs-toggle="tooltip" title="鲨鱼" alt="鲨鱼">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">取消</button>
          <button type="button" class="btn btn-sm btn-success" data-bs-dismiss="modal">确认选择</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 预约对话框 -->
  <div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width: 420px; margin: auto; font-size: 14px;">
      <div class="modal-content">
        <div class="modal-header" style="height: 42px;">
          <h6 class="modal-title" id="bookingModalLabel">预约休假</h6>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          <input type="hidden" id="bookingSequence" required>
        </div>

        <div id="bookingContent" class="modal-body">
          <p class="mt-0 mb-2 ps-2">预约方式：</p>
          <ul class="list-group list-group-horizontal reserveMode">
            <li class="list-group-item">
              <input class="form-check-input me-1" type="radio" name="reserveModeRadio" value="0" id="singleMode"
                checked>
              <label class="form-check-label" for="singleMode">独立预约</label>
            </li>
            <li class="list-group-item">
              <input class="form-check-input me-1" type="radio" name="reserveModeRadio" value="1" id="shareMode">
              <label class="form-check-label" for="shareMode">拼假预约（最多3人拼）</label>
            </li>
          </ul>

          <p class="mt-4 mb-2 ps-2">预约人：</p>
          <div class="d-flex bookingPerson">
            <div class="d-flex me-3">
              <button type="button" class="btn btn-sm btn-outline-success">张旭辉</button>
            </div>

            <div class="d-flex me-3">
              <button type="button" class="btn btn-sm btn-outline-primary better-pinjia-btn"
                data-default="拼假人1">拼假人1</button>
              <button type="button"
                class="btn btn-sm btn-outline-primary dropdown-toggle dropdown-toggle-split better-pinjia-split"
                data-bs-toggle="dropdown" aria-expanded="false">
                <span class="visually-hidden">Toggle Dropdown</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-scrollable">
                <li><span class="dropdown-item">廖中凡</span></li>
                <li><span class="dropdown-item">尹红科</span></li>
              </ul>
            </div>

            <div class="d-flex">
              <button type="button" class="btn btn-sm btn-outline-warning better-pinjia-btn"
                data-default="拼假人2">拼假人2</button>
              <button type="button"
                class="btn btn-sm btn-outline-warning dropdown-toggle dropdown-toggle-split better-pinjia-split"
                data-bs-toggle="dropdown" aria-expanded="false">
                <span class="visually-hidden">Toggle Dropdown</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-scrollable">
                <li><span class="dropdown-item">凌子涵</span></li>
                <li><span class="dropdown-item">曾小洲</span></li>
              </ul>
            </div>
          </div>

          <!-- 预约内容框 -->
          <div class="mt-4">
            <div class="d-flex justify-content-between align-items-center">
              <p class="mb-2 ps-2">预约日期：</p>
              <p class="mb-2 pe-4">休假类型：</p>
            </div>
            <ul class="list-group bookingDate">
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <input class="form-check-input me-1 border border-success" type="checkbox" value="wu"
                    id="bookingDateCB0">
                  <label class="form-check-label text-success" for="bookingDateCB0">2025年1月30日</label>
                </div>
                <div class="dropdown">
                  <button type="button" class="btn btn-sm btn-success dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false" data-default="请选择">
                    请选择
                  </button>
                  <ul class="dropdown-menu">
                    <li><span class="dropdown-item">放射假</span></li>
                    <li><span class="dropdown-item">年假</span></li>
                    <li><span class="dropdown-item">病假</span></li>
                    <li><span class="dropdown-item">事假</span></li>
                    <li><span class="dropdown-item">婚假</span></li>
                    <li><span class="dropdown-item">产假</span></li>
                    <li><span class="dropdown-item">陪产假</span></li>
                    <li><span class="dropdown-item">育儿假</span></li>
                    <li><span class="dropdown-item">丧假</span></li>
                    <li><span class="dropdown-item">其他假</span></li>
                  </ul>
                </div>
                <input type="hidden" id="bookingDateHD0" data-relax="wu" data-date="wu" data-name="wu" required>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <input class="form-check-input me-1 border border-success" type="checkbox" value="wu"
                    id="bookingDateCB1">
                  <label class="form-check-label text-success" for="bookingDateCB1">2025年1月30日</label>
                </div>
                <div class="dropdown">
                  <button type="button" class="btn btn-sm btn-success dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false" data-default="请选择">
                    请选择
                  </button>
                  <ul class="dropdown-menu">
                    <li><span class="dropdown-item">放射假</span></li>
                    <li><span class="dropdown-item">年假</span></li>
                    <li><span class="dropdown-item">病假</span></li>
                    <li><span class="dropdown-item">事假</span></li>
                    <li><span class="dropdown-item">婚假</span></li>
                    <li><span class="dropdown-item">产假</span></li>
                    <li><span class="dropdown-item">陪产假</span></li>
                    <li><span class="dropdown-item">育儿假</span></li>
                    <li><span class="dropdown-item">丧假</span></li>
                    <li><span class="dropdown-item">其他假</span></li>
                  </ul>
                </div>
                <input type="hidden" id="bookingDateHD1" data-relax="wu" data-date="wu" data-name="wu" required>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <input class="form-check-input me-1 border border-success" type="checkbox" value="wu"
                    id="bookingDateCB2">
                  <label class="form-check-label text-success" for="bookingDateCB2">2025年1月30日</label>
                </div>
                <div class="dropdown">
                  <button type="button" class="btn btn-sm btn-success dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false" data-default="请选择">
                    请选择
                  </button>
                  <ul class="dropdown-menu">
                    <li><span class="dropdown-item">放射假</span></li>
                    <li><span class="dropdown-item">年假</span></li>
                    <li><span class="dropdown-item">病假</span></li>
                    <li><span class="dropdown-item">事假</span></li>
                    <li><span class="dropdown-item">婚假</span></li>
                    <li><span class="dropdown-item">产假</span></li>
                    <li><span class="dropdown-item">陪产假</span></li>
                    <li><span class="dropdown-item">育儿假</span></li>
                    <li><span class="dropdown-item">丧假</span></li>
                    <li><span class="dropdown-item">其他假</span></li>
                  </ul>
                </div>
                <input type="hidden" id="bookingDateHD2" data-relax="wu" data-date="wu" data-name="wu" required>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <input class="form-check-input me-1 border border-success" type="checkbox" value="wu"
                    id="bookingDateCB3">
                  <label class="form-check-label text-success" for="bookingDateCB3">2025年1月30日</label>
                </div>
                <div class="dropdown">
                  <button type="button" class="btn btn-sm btn-success dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false" data-default="请选择">
                    请选择
                  </button>
                  <ul class="dropdown-menu">
                    <li><span class="dropdown-item">放射假</span></li>
                    <li><span class="dropdown-item">年假</span></li>
                    <li><span class="dropdown-item">病假</span></li>
                    <li><span class="dropdown-item">事假</span></li>
                    <li><span class="dropdown-item">婚假</span></li>
                    <li><span class="dropdown-item">产假</span></li>
                    <li><span class="dropdown-item">陪产假</span></li>
                    <li><span class="dropdown-item">育儿假</span></li>
                    <li><span class="dropdown-item">丧假</span></li>
                    <li><span class="dropdown-item">其他假</span></li>
                  </ul>
                </div>
                <input type="hidden" id="bookingDateHD3" data-relax="wu" data-date="wu" data-name="wu" required>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <input class="form-check-input me-1 border border-success" type="checkbox" value="wu"
                    id="bookingDateCB4">
                  <label class="form-check-label text-success" for="bookingDateCB4">2025年1月30日</label>
                </div>
                <div class="dropdown">
                  <button type="button" class="btn btn-sm btn-success dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false" data-default="请选择">
                    请选择
                  </button>
                  <ul class="dropdown-menu">
                    <li><span class="dropdown-item">放射假</span></li>
                    <li><span class="dropdown-item">年假</span></li>
                    <li><span class="dropdown-item">病假</span></li>
                    <li><span class="dropdown-item">事假</span></li>
                    <li><span class="dropdown-item">婚假</span></li>
                    <li><span class="dropdown-item">产假</span></li>
                    <li><span class="dropdown-item">陪产假</span></li>
                    <li><span class="dropdown-item">育儿假</span></li>
                    <li><span class="dropdown-item">丧假</span></li>
                    <li><span class="dropdown-item">其他假</span></li>
                  </ul>
                </div>
                <input type="hidden" id="bookingDateHD4" data-relax="wu" data-date="wu" data-name="wu" required>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <input class="form-check-input me-1 border border-success" type="checkbox" value="wu"
                    id="bookingDateCB5">
                  <label class="form-check-label text-success" for="bookingDateCB5">2025年1月30日</label>
                </div>
                <div class="dropdown">
                  <button type="button" class="btn btn-sm btn-success dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false" data-default="请选择">
                    请选择
                  </button>
                  <ul class="dropdown-menu">
                    <li><span class="dropdown-item">放射假</span></li>
                    <li><span class="dropdown-item">年假</span></li>
                    <li><span class="dropdown-item">病假</span></li>
                    <li><span class="dropdown-item">事假</span></li>
                    <li><span class="dropdown-item">婚假</span></li>
                    <li><span class="dropdown-item">产假</span></li>
                    <li><span class="dropdown-item">陪产假</span></li>
                    <li><span class="dropdown-item">育儿假</span></li>
                    <li><span class="dropdown-item">丧假</span></li>
                    <li><span class="dropdown-item">其他假</span></li>
                  </ul>
                </div>
                <input type="hidden" id="bookingDateHD5" data-relax="wu" data-date="wu" data-name="wu" required>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <input class="form-check-input me-1 border border-success" type="checkbox" value="wu"
                    id="bookingDateCB6">
                  <label class="form-check-label text-success" for="bookingDateCB6">2025年1月30日</label>
                </div>
                <div class="dropdown">
                  <button type="button" class="btn btn-sm btn-success dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false" data-default="请选择">
                    请选择
                  </button>
                  <ul class="dropdown-menu">
                    <li><span class="dropdown-item">放射假</span></li>
                    <li><span class="dropdown-item">年假</span></li>
                    <li><span class="dropdown-item">病假</span></li>
                    <li><span class="dropdown-item">事假</span></li>
                    <li><span class="dropdown-item">婚假</span></li>
                    <li><span class="dropdown-item">产假</span></li>
                    <li><span class="dropdown-item">陪产假</span></li>
                    <li><span class="dropdown-item">育儿假</span></li>
                    <li><span class="dropdown-item">丧假</span></li>
                    <li><span class="dropdown-item">其他假</span></li>
                  </ul>
                </div>
                <input type="hidden" id="bookingDateHD6" data-relax="wu" data-date="wu" data-name="wu" required>
              </li>
            </ul>
          </div>
        </div>

        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-sm btn-info" id="resetBooking">重置</button>
          <div>
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">关闭</button>
            <button type="button" class="btn btn-sm btn-info" id="confirmBooking">确认预约</button>
          </div>
          <button type="button" class="btn btn-sm btn-danger d-none" id="deleteReserve">删除整个预约</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 排班对话框 -->
  <div class="modal fade" id="paibanModal" tabindex="-1" aria-labelledby="paibanModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width: 345px; margin: auto; font-size: 14px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="paibanModalLabel">排班</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div id="paibanContent" class="modal-body">
          <p class="mb-2 ps-2">基础信息：</p>
          <div>
            <div class='d-flex'>
              <span class="badge border border-primary text-primary" style="font-size: 0.9rem;"><i
                  class="bi bi-person-badge-fill me-1"></i>被排班人：</span>
              <span class="badge bg-primary ms-2" style="font-size: 0.9rem;" id="paibanPerson">张旭辉</span>
            </div>
            <div class='d-flex mt-2'>
              <span class="badge border border-primary text-primary" style="font-size: 0.9rem;"><i
                  class="bi bi-calendar2-plus me-1"></i>排班日期：</span>
              <span class="badge bg-success ms-2 text-wrap" style="font-size: 0.9rem;"
                id="paibanDate">2025年5月21日（周三）</span>
            </div>
          </div>

          <p class="mt-4 mb-2 ps-2">预约相关：</p>
          <div>
            <div class='d-flex'>
              <span class="badge border border-primary text-primary" style="font-size: 0.9rem;"><i
                  class="bi bi-hospital me-1"></i>期望排班及原因：</span>
              <span class="badge bg-primary ms-2" style="font-size: 0.9rem;" id="expectedPaiban"
                data-default="暂无"></span>
              <span class="badge bg-primary ms-2" style="font-size: 0.9rem;" id="expectedPaibanReason"></span>
            </div>
            <div class='d-flex mt-2'>
              <span class="badge border border-primary text-primary" style="font-size: 0.9rem;"><i
                  class="bi bi-controller me-1"></i>期望休假及顺序：</span>
              <span class="badge bg-success ms-2 text-wrap" style="font-size: 0.9rem;" id="expectedRelax"
                data-default="暂无"></span>
              <span class="badge bg-success ms-2 text-wrap" style="font-size: 0.9rem;"
                id="expectedRelaxSequence"></span>
            </div>
            <div class='d-flex mt-2 align-items-center'>
              <span class="badge border border-primary text-primary" style="font-size: 0.9rem;"><i
                  class="bi bi-camera-fill me-1"></i>假期及剩余天数：</span>
              <div id="scheduledVacation" class="d-flex flex-column">
                <span class="badge bg-warning ms-2 text-wrap" style="font-size: 0.9rem;" id="" data-default="暂无"></span>
              </div>

            </div>
          </div>

          <p class="mt-4 mb-2 ps-2">建议排班：</p>
          <div id="suggestedPaiban">
            <div class="d-flex align-items-center mb-2 flex-wrap" style="gap: 12px;">
              <span class="badge border border-primary text-primary">70%</span>
              <span class="badge bg-primary">1B</span>
              <span class="badge border border-secondary text-secondary">2B</span>
              <span class="badge border border-secondary text-secondary">3B</span>
            </div>
            <div class="d-flex align-items-center" style="gap: 12px;">
              <span class="badge border border-primary text-primary">30%</span>
              <span class="badge border border-secondary text-secondary">2A</span>
              <span class="badge border border-secondary text-secondary">S1</span>
              <span class="badge border border-secondary text-secondary">3C</span>
            </div>
          </div>

          <p class="mt-4 mb-2 ps-2">已有排班：</p>
          <div class="d-flex align-items-center" style="gap: 12px;" id="existingPaiban">
            <span class="badge bg-success" style="font-size: 0.9rem;">暂无</span>
          </div>

          <p class="mt-4 mb-2 ps-2">实际排班：
            <a id="bantypeInfo" tabindex="0" style="font-size: 1.0em; text-decoration: none; color: dimgrey;"
              data-bs-toggle="popover" data-bs-placement="right" data-bs-custom-class="custom-popover"
              data-bs-trigger="hover focus" data-bs-title="所有人员" data-bs-content="55555">
              <i class="bi bi-info-circle-fill"></i></a>
          </p>
          <div class='d-flex align-items-center'>
            <div class="dropdown" id="paibanSelectDropdown">
              <button type="button" class="btn btn-sm btn-warning dropdown-toggle" data-bs-toggle="dropdown"
                aria-expanded="false" data-default="请选择">
                请选择
              </button>
              <ul class="dropdown-menu dropdown-menu-scrollable">
                <li><span class="dropdown-item">1A</span></li>
                <li><span class="dropdown-item">1B</span></li>
                <li><span class="dropdown-item">1C</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">2A</span></li>
                <li><span class="dropdown-item">2B</span></li>
                <li><span class="dropdown-item">2C</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">3A</span></li>
                <li><span class="dropdown-item">3B</span></li>
                <li><span class="dropdown-item">3C</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">S1</span></li>
                <li><span class="dropdown-item">S2</span></li>
                <li><span class="dropdown-item">S2-A</span></li>
                <li><span class="dropdown-item">S2-B</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">N1</span></li>
                <li><span class="dropdown-item">N2</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">进修</span></li>
                <li><span class="dropdown-item">培训</span></li>
                <li><span class="dropdown-item">机动</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">休息</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">放射假</span></li>
                <li><span class="dropdown-item">年假</span></li>
                <li><span class="dropdown-item">病假</span></li>
                <li><span class="dropdown-item">事假</span></li>
                <li><span class="dropdown-item">婚假</span></li>
                <li><span class="dropdown-item">产假</span></li>
                <li><span class="dropdown-item">陪产假</span></li>
                <li><span class="dropdown-item">育儿假</span></li>
                <li><span class="dropdown-item">丧假</span></li>
                <li><span class="dropdown-item">调休假</span></li>
                <li><span class="dropdown-item">其他假</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">补假</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">OAE</span></li>
                <li><span class="dropdown-item">OBE</span></li>
                <li><span class="dropdown-item">OCE</span></li>
                <li><span class="dropdown-item">OAF</span></li>
                <li><span class="dropdown-item">OBF</span></li>
                <li><span class="dropdown-item">OCF</span></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><span class="dropdown-item">T1A</span></li>
                <li><span class="dropdown-item">T1B</span></li>
                <li><span class="dropdown-item">T1C</span></li>
                <li><span class="dropdown-item">T2A</span></li>
                <li><span class="dropdown-item">T2B</span></li>
                <li><span class="dropdown-item">T2C</span></li>
                <li><span class="dropdown-item">T3A</span></li>
                <li><span class="dropdown-item">T3B</span></li>
                <li><span class="dropdown-item">T3C</span></li>
                <li><span class="dropdown-item">TS1</span></li>
                <li><span class="dropdown-item">TS2</span></li>
                <li><span class="dropdown-item">Phy</span></li>

              </ul>
              <input type="hidden" id="paibanSelectHD" data-bantype="wu" data-date="wu" data-name="wu" required>
            </div>
            <div class="ms-3">
              <input class="form-check-input me-1 border border-warning" type="checkbox" value="wu" id="repeatPaiban5">
              <label class="form-check-label text-warning" for="repeatPaiban5">重复5次</label>
            </div>
            <div class="ms-3">
              <input class="form-check-input me-1 border border-warning" type="checkbox" value="wu" id="repeatPaiban2">
              <label class="form-check-label text-warning" for="repeatPaiban2">重复2次</label>
            </div>
          </div>
        </div>

        <div class="modal-footer justify-content-end">
          <button type="button" class="btn btn-sm btn-danger d-none" id="deletePaiban">删除所有排班</button>
          <div>
            <button type="button" class="btn btn-sm btn-info" id="acceptPaiban">接受建议</button>
            <button type="button" class="btn btn-sm btn-primary" id="confirmPaiban">确认排班</button>
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">关闭</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 日期属性设置对话框 -->
  <div class="modal fade" id="configureDateModal" tabindex="-1" aria-labelledby="configureDateLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm" style="width: 345px; margin: auto; font-size: 14px;">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title" id="configureDateLabel">设置日期属性</h6>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div id="configureDateContent" class="modal-body">
          <!-- 日期信息 -->
          <div class="d-flex align-items-center mb-3">
            <span class="badge border border-primary text-primary" style="font-size: 0.8rem;">配置日期：</span>
            <span class="badge bg-primary ms-2" style="font-size: 0.8rem;" value=""
              id="configureDateInfo">2025年5月21日（周三）</span>
          </div>

          <!-- 是否为第一天 -->
          <div class="form-check form-switch mb-3">
            <input class=" form-check-input" type="checkbox" role="switch" id="switchCheckFirstDay" checked>
            <label class="form-check-label badge border border-secondary text-secondary" for="switchCheckFirstDay"
              style="font-size: 0.8rem;">今天是否是本周的第一天？</label>
          </div>

          <!-- 今天必须安排的班种 -->
          <h3 class="badge border border-success text-success mb-3" style="font-size: 0.8rem;">今天必须安排的班种：</h3>
          <div class="d-flex flex-wrap mb-3 justify-content-start align-items-center" id="mustBans">
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="1A" id="mustBan1A">
              <label class="form-check-label" for="mustBan1A">1A</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="1B" id="mustBan1B">
              <label class="form-check-label" for="mustBan1B">1B</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="1C" id="mustBan1C">
              <label class="form-check-label" for="mustBan1C">1C</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="2A" id="mustBan2A">
              <label class="form-check-label" for="mustBan2A">2A</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="2B" id="mustBan2B">
              <label class="form-check-label" for="mustBan2B">2B</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="2C" id="mustBan2C">
              <label class="form-check-label" for="mustBan2C">2C</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="3A" id="mustBan3A">
              <label class="form-check-label" for="mustBan3A">3A</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="3B" id="mustBan3B">
              <label class="form-check-label" for="mustBan3B">3B</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="3C" id="mustBan3C">
              <label class="form-check-label" for="mustBan3C">3C</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="S1" id="mustBanS1">
              <label class="form-check-label" for="mustBanS1">S1</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="S2" id="mustBanS2">
              <label class="form-check-label" for="mustBanS2">S2</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="N1" id="mustBanN1">
              <label class="form-check-label" for="mustBanN1">N1</label>
            </div>
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="N2" id="mustBanN2">
              <label class="form-check-label" for="mustBanN2">N2</label>
            </div>
          </div>
        </div>

        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-sm btn-danger" id="resetConfigureDate">重置选择</button>
          <div>
            <button type="button" class="btn btn-sm btn-info" id="confirmConfigureDate">保存</button>
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">关闭</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 删除所有排班 确认 对话框 -->
  <div class="modal fade" id="clearAllScheduleModal" tabindex="-1" aria-labelledby="deleteAllScheduleLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" style="width: 348px; margin: auto; font-size: 15px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteAllScheduleLabel">是否删除本月所有排班？</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div id="deleteAllScheduleContent" class="modal-body">
          <p class="mb-0" id="clearAllInfo">是否删除本月所有排班？</p>
        </div>

        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-sm btn-danger" id="confirmClearAll">确认删除所有</button>
          <div>
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">点错了，关闭</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 班种信息 对话框 -->
  <div class="modal fade" id="bantypeInfoModal" tabindex="-1" aria-labelledby="bantypeInfoLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="width: 292px; margin: auto; font-size: 14px;">
      <div class="modal-content shadow-lg">
        <div class="modal-header">
          <h6 class="modal-title fw-bold" id="bantypeInfoLabel">
            <i class="bi bi-info-circle me-2 text-primary"></i>
            班种详细信息
          </h6>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div id="bantypeInfoContent" class="modal-body">
          <!-- 基础信息 -->
          <h6 class="text-secondary mb-2">基础信息</h6>
          <div class="d-flex mb-1">
            <div class="text-muted">姓名：</div>
            <div id="bantypeInfoName">张旭辉</div>
          </div>
          <div class="d-flex mb-4">
            <div class="text-muted">日期：</div>
            <div id="bantypeInfoDate">2025年10月21日（周三）</div>
          </div>

          <!-- 班种信息 -->
          <h6 class="text-secondary mb-2">班种信息</h6>
          <div id="bantypeInfoCards">
            <!-- JS 动态生成 -->
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-sm btn-secondary px-4" data-bs-dismiss="modal">已阅，关闭</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 检查排班对话框 -->
  <div class="modal fade" id="checkScheduleModal" tabindex="-1" aria-labelledby="checkScheduleLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered" style="margin: auto; font-size: 14px; width: 95vw;">
      <div class="modal-content">
        <div class="modal-header" style="height: 45px;">
          <h6 class="modal-title" id="checkScheduleLabel">核查本月排班</h6>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div id="checkScheduleContent" class="modal-body p-2">
          <div class="table-container m-auto table-responsive">
            <table class="schedule-table m-auto table table-bordered">
              <thead>
                <!-- JS动态生成 -->
              </thead>
              <tbody>
                <!-- JS动态生成 -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="modal-footer" style="height: 60px;">
          <button type="button" class="btn btn-sm btn-sm btn-secondary" data-bs-dismiss="modal">关闭</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 提交审核 确认 对话框 -->
  <div class="modal fade" id="submitForAuditModal" tabindex="-1" aria-labelledby="submitForAuditLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" style="width: 348px; margin: auto; font-size: 15px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="submitForAuditLabel">是否提交本月所有排班？</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <p class="mb-0">确定要提交 2025-06-01 至 2025-06-30 之间的所有排班吗？</p>
        </div>

        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-sm btn-warning" id="confirmSubmitForAudit">确认提交</button>
          <div>
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">暂时不提交</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 确认审核 确认 对话框 -->
  <div class="modal fade" id="confirmAuditModal" tabindex="-1" aria-labelledby="confirmAuditLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" style="width: 348px; margin: auto; font-size: 15px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmAuditLabel">是否审核本月所有排班？</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <p class="mb-0">确定要审核 2025-06-01 至 2025-06-30 之间的所有排班吗？</p>
        </div>

        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-sm btn-primary" id="confirmAudit">确认审核</button>
          <div>
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">暂时不审核</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 确认批量生成休假规则 确认 对话框 -->
  <div class="modal fade" id="confirmBatchGenModal" tabindex="-1" aria-labelledby="confirmAuditLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" style="width: 348px; margin: auto; font-size: 15px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmBatchGenLabel">是否为所有人生成2026年休假规则？</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <p class="mb-0" id="confirmBatchGenP">是否为所有人生成2026年休假规则（放射假规则和年假规则，放射假每人22天，年假系统自动计算）？</p>
        </div>

        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-sm btn-primary" id="confirmBatchGen">确认生成</button>
          <div>
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">暂时不生成</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 确认批量删除休假规则 确认 对话框 -->
  <div class="modal fade" id="confirmBatchDelModal" tabindex="-1" aria-labelledby="confirmAuditLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered" style="width: 348px; margin: auto; font-size: 15px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmBatchDelLabel">是否删除2026年所有人的休假规则？</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <p class="mb-0" id="confirmBatchDelP">是否删除2026年所有人的休假规则（可找系统管理员撤销）？</p>
        </div>

        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-sm btn-danger" id="confirmBatchDel">确认删除</button>
          <div>
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">暂时不删除</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 自定义跟随光标元素 -->
  <div id="customCursor" class="custom-cursor hidden">
    <i class="bi bi-eraser-fill"></i>
  </div>

  <script src="/WSFrontends/assets/plugin/node_modules/@popperjs/core/dist/umd/popper.min.js"></script>
  <script src="/WSFrontends/assets/plugin/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/WSFrontends/assets/plugin/node_modules/@eonasdan/tempus-dominus/dist/js/tempus-dominus.min.js"></script>
  <script src="/WSFrontends/assets/plugin/node_modules/swiper/swiper-bundle.min.js"></script>
  <script src="/WSFrontends/assets/plugin/node_modules/dayjs/dayjs.min.js"></script>
  <script src="/WSFrontends/assets/plugin/node_modules/dayjs/plugin/isoWeek.js"></script>
  <script src="/WSFrontends/assets/plugin/node_modules/dayjs/plugin/localeData.js"></script>
  <script src="/WSFrontends/assets/plugin/node_modules/dayjs/locale/zh-cn.js"></script>
  <script src="/WSFrontends/assets/plugin/node_modules/html2canvas/html2canvas.min.js"></script>

  <!-- 我的js文件, 按顺序引入 -->
  <script src="/WSFrontends/assets/4_js/commons.js"></script>
  <script src="/WSFrontends/assets/4_js/differentAlert.js"></script>
  <script src="/WSFrontends/assets/4_js/getWeekGroups.js"></script>

  <script src="/WSFrontends/assets/4_js/index.js"></script>
  <script src="/WSFrontends/assets/4_js/initUserInfo.js"></script>
  <script src="/WSFrontends/assets/4_js/initWorkAllTables.js"></script>
  <script src="/WSFrontends/assets/4_js/initWorkMineCards.js"></script>
  <script src="/WSFrontends/assets/4_js/initVacationTable.js"></script>
  <script src="/WSFrontends/assets/4_js/initPaiBanTables.js"></script>
  <script src="/WSFrontends/assets/4_js/initVacationSettingCards.js"></script>
  <script src="/WSFrontends/assets/4_js/initStatisticsCards.js"></script>
  <script src="/WSFrontends/assets/4_js/startPrograms.js"></script>
  <!-- <script src="/WSFrontends/assets/4_js/verify.js"></script> -->

  <script src="/WSFrontends/assets/4_js/app.js"></script>
</body>

</html>